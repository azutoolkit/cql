import{_ as l,o as a,c as n,x as s,a as e,S as o}from"./app.19d9338b.js";import"./chunks/theme.a19b6002.js";const g=JSON.parse('{"title":"Cql::Delete","description":"","frontmatter":{"title":"Cql::Delete"},"headers":[{"level":2,"title":"Constructors","slug":"constructors","link":"#constructors","children":[{"level":3,"title":"def new(schema : Schema)","slug":"def-new-schema-schema","link":"#def-new-schema-schema","children":[]}]},{"level":2,"title":"Instance Methods","slug":"instance-methods","link":"#instance-methods","children":[{"level":3,"title":"def back(*columns : Symbol)","slug":"def-back-columns-symbol","link":"#def-back-columns-symbol","children":[]},{"level":3,"title":"def build","slug":"def-build","link":"#def-build","children":[]},{"level":3,"title":"def commit","slug":"def-commit","link":"#def-commit","children":[]},{"level":3,"title":"def from(table : Symbol)","slug":"def-from-table-symbol","link":"#def-from-table-symbol","children":[]},{"level":3,"title":"def to_sql(gen = @schema.gen)","slug":"def-to-sql-gen-schema-gen","link":"#def-to-sql-gen-schema-gen","children":[]},{"level":3,"title":"def using(table : Symbol)","slug":"def-using-table-symbol","link":"#def-using-table-symbol","children":[]},{"level":3,"title":"def where","slug":"def-where","link":"#def-where","children":[]},{"level":3,"title":"def where(attr : Hash(Symbol, DB::Any))","slug":"def-where-attr-hash-symbol-db-any","link":"#def-where-attr-hash-symbol-db-any","children":[]},{"level":3,"title":"def where","slug":"def-where-1","link":"#def-where-1","children":[]}]}],"relativePath":"main/Cql/Delete.md","lastUpdated":1723931959000}'),t={name:"main/Cql/Delete.md"},p=s("div",null,[s("h1",{id:"class-cql-delete",tabindex:"-1"},[e("class Cql::Delete "),s("a",{class:"header-anchor",href:"#class-cql-delete","aria-hidden":"true"},"#")]),s("p",null,[s("code",null,"Reference"),e(" < "),s("code",null,"Object")]),s("p",null,"A delete query This class represents a delete query It provides methods for building a delete query It also provides methods for executing the query"),s("p",null,[s("strong",null,"Example"),e(" Deleting a record")]),s("div",{class:"language-crystal"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"crystal"),s("pre",{"v-pre":"",class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"delete"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"from"),s("span",{style:{color:"#89DDFF"}},"(:users)."),s("span",{style:{color:"#82AAFF"}},"where"),s("span",{style:{color:"#89DDFF"}},"(id:"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#89DDFF"}},")."),s("span",{style:{color:"#BABED8"}},"commit")]),e(`
`),s("span",{class:"line"})])])]),s("details",{class:"details custom-block"},[s("summary",null,"Table of Contents"),s("nav",{class:"table-of-contents"},[s("ul",null,[s("li",null,[s("a",{href:"#constructors"},"Constructors"),s("ul",null,[s("li",null,[s("a",{href:"#def-new-schema-schema"},"def new(schema : Schema)")])])]),s("li",null,[s("a",{href:"#instance-methods"},"Instance Methods"),s("ul",null,[s("li",null,[s("a",{href:"#def-back-columns-symbol"},"def back(*columns : Symbol)")]),s("li",null,[s("a",{href:"#def-build"},"def build")]),s("li",null,[s("a",{href:"#def-commit"},"def commit")]),s("li",null,[s("a",{href:"#def-from-table-symbol"},"def from(table : Symbol)")]),s("li",null,[s("a",{href:"#def-to-sql-gen-schema-gen"},"def to_sql(gen = @schema.gen)")]),s("li",null,[s("a",{href:"#def-using-table-symbol"},"def using(table : Symbol)")]),s("li",null,[s("a",{href:"#def-where"},"def where")]),s("li",null,[s("a",{href:"#def-where-attr-hash-symbol-db-any"},"def where(attr : Hash(Symbol, DB::Any))")]),s("li",null,[s("a",{href:"#def-where-1"},"def where")])])])])])])],-1),r=o(`<h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-hidden="true">#</a></h2><h3 id="def-new-schema-schema" tabindex="-1">def new<code>(schema : Schema)</code> <a class="header-anchor" href="#def-new-schema-schema" aria-hidden="true">#</a></h3><p>Initialize the delete query</p><ul><li><strong>@param</strong> schema [Schema] The schema to use</li><li><strong>@return</strong> [Delete] The delete query object</li></ul><p><strong>Example</strong> Deleting a record</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(id:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">commit</span></span>
<span class="line"></span></code></pre></div><h2 id="instance-methods" tabindex="-1">Instance Methods <a class="header-anchor" href="#instance-methods" aria-hidden="true">#</a></h2><h3 id="def-back-columns-symbol" tabindex="-1">def back<code>(*columns : Symbol)</code> <a class="header-anchor" href="#def-back-columns-symbol" aria-hidden="true">#</a></h3><p>Sets the columns to return after the delete</p><ul><li><strong>@param</strong> columns [Symbol*] The columns to return</li><li><strong>@return</strong> [self] The current instance</li><li><strong>@raise</strong> [Exception] If the column does not exist</li></ul><p><strong>Example</strong> Setting the columns to return</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">back</span><span style="color:#89DDFF;">(:name,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:age)</span></span>
<span class="line"></span></code></pre></div><h3 id="def-build" tabindex="-1">def build <a class="header-anchor" href="#def-build" aria-hidden="true">#</a></h3><p>Builds the delete expression</p><ul><li><strong>@return</strong> [Expression::Delete] The delete expression</li><li><strong>@raise</strong> [Exception] If the table is not set</li><li><strong>@raise</strong> [Exception] If the where clause is not set</li></ul><p><strong>Example</strong> Building the delete expression</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(id:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">commit</span></span>
<span class="line"></span></code></pre></div><h3 id="def-commit" tabindex="-1">def commit <a class="header-anchor" href="#def-commit" aria-hidden="true">#</a></h3><p>Executes the delete query and returns the result</p><ul><li><strong>@return</strong> [DB::Result] The result of the query</li></ul><p><strong>Example</strong> Deleting a record</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(id:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">commit</span></span>
<span class="line"></span></code></pre></div><h3 id="def-from-table-symbol" tabindex="-1">def from<code>(table : Symbol)</code> <a class="header-anchor" href="#def-from-table-symbol" aria-hidden="true">#</a></h3><p>Sets the table to delete from</p><ul><li><strong>@param</strong> table [Symbol] The name of the table</li><li><strong>@return</strong> [self] The current instance</li><li><strong>@raise</strong> [Exception] If the table does not exist</li></ul><p><strong>Example</strong> Setting the table</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"></span></code></pre></div><h3 id="def-to-sql-gen-schema-gen" tabindex="-1">def to_sql<code>(gen = @schema.gen)</code> <a class="header-anchor" href="#def-to-sql-gen-schema-gen" aria-hidden="true">#</a></h3><p>Generates the SQL query and parameters</p><ul><li><strong>@param</strong> gen [Expression::Generator] The generator to use</li><li><strong>@return</strong> [{String, Array(DB::Any)}] The query and parameters</li></ul><p><strong>Example</strong> Generating a delete query</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(id:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">to_sql</span></span>
<span class="line"></span></code></pre></div><h3 id="def-using-table-symbol" tabindex="-1">def using<code>(table : Symbol)</code> <a class="header-anchor" href="#def-using-table-symbol" aria-hidden="true">#</a></h3><p>Sets the table to use in the using clause</p><ul><li><strong>@param</strong> table [Symbol] The name of the table</li><li><strong>@return</strong> [self] The current instance</li><li><strong>@raise</strong> [Exception] If the table does not exist</li></ul><p><strong>Example</strong> Setting the using table</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">using</span><span style="color:#89DDFF;">(:posts)</span></span>
<span class="line"></span></code></pre></div><h3 id="def-where" tabindex="-1">def where <a class="header-anchor" href="#def-where" aria-hidden="true">#</a></h3><p>Sets the columns to return</p><ul><li><strong>@param</strong> columns [Symbol*] The columns to return</li><li><strong>@return</strong> [self] The current instance</li><li><strong>@raise</strong> [Exception] If the column does not exist</li></ul><p><strong>Example</strong> Setting the columns to return</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">back</span><span style="color:#89DDFF;">(:name,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:age)</span></span>
<span class="line"></span></code></pre></div><h3 id="def-where-attr-hash-symbol-db-any" tabindex="-1">def where<code>(attr : Hash(Symbol, DB::Any))</code> <a class="header-anchor" href="#def-where-attr-hash-symbol-db-any" aria-hidden="true">#</a></h3><p>Where clause using a hash of conditions to match against</p><ul><li><strong>@param</strong> attr [Hash(Symbol, DB::Any)] The conditions to match against</li><li><strong>@return</strong> [self] The current instance</li></ul><p><strong>Example</strong> Setting the where clause</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">where</span><span style="color:#89DDFF;">(id:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="def-where-1" tabindex="-1">def where <a class="header-anchor" href="#def-where-1" aria-hidden="true">#</a></h3><p>Sets the columns to return</p><ul><li><strong>@param</strong> columns [Symbol*] The columns to return</li><li><strong>@return</strong> [self] The current instance</li><li><strong>@raise</strong> [Exception] If the column does not exist</li></ul><p><strong>Example</strong> Setting the columns to return</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">delete </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Delete</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(:users)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">back</span><span style="color:#89DDFF;">(:name,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:age)</span></span>
<span class="line"></span></code></pre></div><p>:::</p>`,53),c=[p,r];function i(y,d,F,D,h,u){return a(),n("div",null,c)}const f=l(t,[["render",i]]);export{g as __pageData,f as default};
