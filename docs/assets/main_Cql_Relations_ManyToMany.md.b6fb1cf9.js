import{_ as s,o as a,c as n,N as l}from"./app.b139ab4d.js";import"./chunks/theme.1ff6d68a.js";const m=JSON.parse('{"title":"Cql::Relations::ManyToMany","description":"","frontmatter":{"title":"Cql::Relations::ManyToMany"},"headers":[{"level":2,"title":"Macros","slug":"macros","link":"#macros","children":[{"level":3,"title":"macro many_to_many(name, type, join_through, cascade = false)","slug":"macro-many-to-many-name-type-join-through-cascade-false","link":"#macro-many-to-many-name-type-join-through-cascade-false","children":[]}]}],"relativePath":"main/Cql/Relations/ManyToMany.md","lastUpdated":1723931959000}'),o={name:"main/Cql/Relations/ManyToMany.md"},e=l(`<div><h1 id="module-cql-relations-manytomany" tabindex="-1">module Cql::Relations::ManyToMany <a class="header-anchor" href="#module-cql-relations-manytomany" aria-hidden="true">#</a></h1><details class="details custom-block"><summary>Table of Contents</summary><nav class="table-of-contents"><ul><li><a href="#macros">Macros</a><ul><li><a href="#macro-many-to-many-name-type-join-through-cascade-false">macro many_to_many(name, type, join_through, cascade = false)</a></li></ul></li></ul></nav></details></div><h2 id="macros" tabindex="-1">Macros <a class="header-anchor" href="#macros" aria-hidden="true">#</a></h2><h3 id="macro-many-to-many-name-type-join-through-cascade-false" tabindex="-1">macro many_to_many<code>(name, type, join_through, cascade = false)</code> <a class="header-anchor" href="#macro-many-to-many-name-type-join-through-cascade-false" aria-hidden="true">#</a></h3><p>Defines a many-to-many relationship between two models. This method will define a getter method that returns a ManyToMany::Collection. The collection can be used to add and remove records from the join table.</p><ul><li><strong>param</strong> : name (Symbol) - The name of the association</li><li><strong>param</strong> : type (Cql::Model) - The target model</li><li><strong>param</strong> : join_through (Cql::Model) - The join table model</li><li><strong>param</strong> : cascade (Bool) - Delete associated records</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Movie</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">include</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Model</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Movie</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> id </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> title </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">String</span></span>
<span class="line"><span style="color:#BABED8;">  many_to_many </span><span style="color:#89DDFF;">:actors,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Actor</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">join_through:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:movies_actors</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Actor</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">include</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Model</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Actor</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> id </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> name </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">String</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">class</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">MoviesActors</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;font-style:italic;">include</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Model</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">MoviesActors</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> id </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> movie_id </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">property</span><span style="color:#BABED8;"> actor_id </span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">end</span></span>
<span class="line"></span></code></pre></div><p>:::</p>`,8),p=[e];function t(c,r,y,i,F,B){return a(),n("div",null,p)}const h=s(o,[["render",t]]);export{m as __pageData,h as default};
