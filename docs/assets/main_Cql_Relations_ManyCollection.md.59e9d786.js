import{_ as l,o as e,c as n,x as s,a,S as o}from"./app.70057064.js";import"./chunks/theme.88596d17.js";const h=JSON.parse('{"title":"Cql::Relations::ManyCollection(Target, Through, Pk)","description":"","frontmatter":{"title":"Cql::Relations::ManyCollection(Target, Through, Pk)"},"headers":[{"level":2,"title":"Constructors","slug":"constructors","link":"#constructors","children":[{"level":3,"title":"def new(key : Symbol, id : Pk, target_key : Symbol, cascade : Bool = false, query : Cql::Query = (Cql::Query.new(Target.schema)).from(Target.table))","slug":"def-new-key-symbol-id-pk-target-key-symbol-cascade-bool-false-query-cql-query-cql-query-new-target-schema-from-target-table","link":"#def-new-key-symbol-id-pk-target-key-symbol-cascade-bool-false-query-cql-query-cql-query-new-target-schema-from-target-table","children":[]}]},{"level":2,"title":"Instance Methods","slug":"instance-methods","link":"#instance-methods","children":[{"level":3,"title":"def clear","slug":"def-clear","link":"#def-clear","children":[]},{"level":3,"title":"def create(record : Target)","slug":"def-create-record-target","link":"#def-create-record-target","children":[]},{"level":3,"title":"def create","slug":"def-create","link":"#def-create","children":[]},{"level":3,"title":"def delete(record : Target)","slug":"def-delete-record-target","link":"#def-delete-record-target","children":[]},{"level":3,"title":"def delete(id : Pk)","slug":"def-delete-id-pk","link":"#def-delete-id-pk","children":[]},{"level":3,"title":"def ids=(ids : Array(Int64))","slug":"def-ids-ids-array-int64","link":"#def-ids-ids-array-int64","children":[]}]}],"relativePath":"main/Cql/Relations/ManyCollection.md","lastUpdated":1723931959000}'),t={name:"main/Cql/Relations/ManyCollection.md"},r=s("div",null,[s("h1",{id:"class-cql-relations-manycollection-target-through-pk",tabindex:"-1"},[a("class Cql::Relations::ManyCollection(Target, Through, Pk) "),s("a",{class:"header-anchor",href:"#class-cql-relations-manycollection-target-through-pk","aria-hidden":"true"},"#")]),s("p",null,[s("code",null,"Cql::Relations::Collection"),a(" < "),s("code",null,"Reference"),a(" < "),s("code",null,"Object")]),s("p",null,"A collection of records for a many to many relationship This class is used to manage the relationship between two tables through a join table (through)"),s("p",null,"A many-to-many association occurs when multiple records of one model can be associated with multiple records of another model, and vice versa. Typically, it requires a join table (or a junction table) to store the relationships between the records of the two models."),s("p",null,"Hereâ€™s how a many-to-many association is commonly implemented in CQL using Crystal."),s("p",null,[s("strong",null,"Example")]),s("div",{class:"language-crystal"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"crystal"),s("pre",{"v-pre":"",class:"shiki material-theme-palenight",tabindex:"0"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"class"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Movie")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"include"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Cql"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#FFCB6B"}},"Model"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Movie"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64"),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," id "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," title "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"String")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  many_to_many "),s("span",{style:{color:"#89DDFF"}},":actors,"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Actor"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#89DDFF"}},"join_through:"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#89DDFF"}},":movies_actors")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"end")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"class"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Actor")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"include"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Cql"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#FFCB6B"}},"Model"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"Actor"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64"),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," id "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," name "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"String")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"end")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"class"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"MoviesActors")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"include"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Cql"),s("span",{style:{color:"#89DDFF"}},"::"),s("span",{style:{color:"#FFCB6B"}},"Model"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"MoviesActors"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64"),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," id "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," movie_id "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"  "),s("span",{style:{color:"#82AAFF"}},"property"),s("span",{style:{color:"#BABED8"}}," actor_id "),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Int64")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"end")]),a(`
`),s("span",{class:"line"}),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"movie "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Movie"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#89DDFF"}},"(title:"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"The Matrix"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"},[s("span",{style:{color:"#BABED8"}},"actor "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#FFCB6B"}},"Actor"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"create"),s("span",{style:{color:"#89DDFF"}},"(name:"),s("span",{style:{color:"#BABED8"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"Keanu Reeves"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},")")]),a(`
`),s("span",{class:"line"})])])]),s("details",{class:"details custom-block"},[s("summary",null,"Table of Contents"),s("nav",{class:"table-of-contents"},[s("ul",null,[s("li",null,[s("a",{href:"#constructors"},"Constructors"),s("ul",null,[s("li",null,[s("a",{href:"#def-new-key-symbol-id-pk-target-key-symbol-cascade-bool-false-query-cql-query-cql-query-new-target-schema-from-target-table"},"def new(key : Symbol, id : Pk, target_key : Symbol, cascade : Bool = false, query : Cql::Query = (Cql::Query.new(Target.schema)).from(Target.table))")])])]),s("li",null,[s("a",{href:"#instance-methods"},"Instance Methods"),s("ul",null,[s("li",null,[s("a",{href:"#def-clear"},"def clear")]),s("li",null,[s("a",{href:"#def-create-record-target"},"def create(record : Target)")]),s("li",null,[s("a",{href:"#def-create"},"def create")]),s("li",null,[s("a",{href:"#def-delete-record-target"},"def delete(record : Target)")]),s("li",null,[s("a",{href:"#def-delete-id-pk"},"def delete(id : Pk)")]),s("li",null,[s("a",{href:"#def-ids-ids-array-int64"},"def ids=(ids : Array(Int64))")])])])])])])],-1),p=o(`<h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-hidden="true">#</a></h2><h3 id="def-new-key-symbol-id-pk-target-key-symbol-cascade-bool-false-query-cql-query-cql-query-new-target-schema-from-target-table" tabindex="-1">def new<code>(key : Symbol, id : Pk, target_key : Symbol, cascade : Bool = false, query : Cql::Query = (Cql::Query.new(Target.schema)).from(Target.table))</code> <a class="header-anchor" href="#def-new-key-symbol-id-pk-target-key-symbol-cascade-bool-false-query-cql-query-cql-query-new-target-schema-from-target-table" aria-hidden="true">#</a></h3><p>Initialize the many-to-many association collection class</p><ul><li><strong>param</strong> : key (Symbol) - The key for the parent record</li><li><strong>param</strong> : id (Pk) - The id value for the parent record</li><li><strong>param</strong> : target_key (Symbol) - The key for the associated record</li><li><strong>param</strong> : cascade (Bool) - Delete associated records</li><li><strong>param</strong> : query (Cql::Query) - Query object</li><li><strong>return</strong> : ManyCollection</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#FFCB6B;">ManyCollection</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">:movie_id,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">:actor_id,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#FFCB6B;">Cql</span><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Query</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Actor</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">schema</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Actor</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="instance-methods" tabindex="-1">Instance Methods <a class="header-anchor" href="#instance-methods" aria-hidden="true">#</a></h2><h3 id="def-clear" tabindex="-1">def clear <a class="header-anchor" href="#def-clear" aria-hidden="true">#</a></h3><p>Clears all associated records from the parent record and the database</p><ul><li><strong>return</strong> : [] of T</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(name:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Carrie-Anne Moss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">clear</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"></span></code></pre></div><h3 id="def-create-record-target" tabindex="-1">def create<code>(record : Target)</code> <a class="header-anchor" href="#def-create-record-target" aria-hidden="true">#</a></h3><p>Create a new record and associate it with the parent record</p><ul><li><strong>param</strong> : attributes (Hash(Symbol, String | Int64))</li><li><strong>return</strong> : Array(Target)</li><li><strong>raise</strong> : Cql::Error</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create!</span><span style="color:#89DDFF;">(name:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Hugo Weaving</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#676E95;font-style:italic;">#&lt;Actor:0x00007f8b3b1b3f00 @id=1, @name=&quot;Hugo Weaving&quot;&gt;]</span></span>
<span class="line"></span></code></pre></div><h3 id="def-create" tabindex="-1">def create <a class="header-anchor" href="#def-create" aria-hidden="true">#</a></h3><p>Create a new record and associate it with the parent record</p><ul><li><strong>param</strong> : attributes (Hash(Symbol, String | Int64))</li><li><strong>return</strong> : Array(Target)</li><li><strong>raise</strong> : Cql::Error</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(name:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Carrie-Anne Moss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#676E95;font-style:italic;">#&lt;Actor:0x00007f8b3b1b3f00 @id=1, @name=&quot;Carrie-Anne Moss&quot;&gt;]</span></span>
<span class="line"></span></code></pre></div><h3 id="def-delete-record-target" tabindex="-1">def delete<code>(record : Target)</code> <a class="header-anchor" href="#def-delete-record-target" aria-hidden="true">#</a></h3><p>Delete the associated record from the parent record if it exists</p><ul><li><strong>param</strong> : record (Target)</li><li><strong>return</strong> : Bool</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(name:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Carrie-Anne Moss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">delete</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">Actor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">find</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">))</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[]</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">of</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Actor</span></span>
<span class="line"></span></code></pre></div><h3 id="def-delete-id-pk" tabindex="-1">def delete<code>(id : Pk)</code> <a class="header-anchor" href="#def-delete-id-pk" aria-hidden="true">#</a></h3><p>Delete the associated record from the parent record if it exists</p><ul><li><strong>param</strong> : id (Pk)</li><li><strong>return</strong> : Bool</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">create</span><span style="color:#89DDFF;">(name:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Carrie-Anne Moss</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">1</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">delete</span><span style="color:#89DDFF;">(</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[]</span></span>
<span class="line"></span></code></pre></div><h3 id="def-ids-ids-array-int64" tabindex="-1">def ids=<code>(ids : Array(Int64))</code> <a class="header-anchor" href="#def-ids-ids-array-int64" aria-hidden="true">#</a></h3><p>Associates the parent record with the records that match the primary keys provided</p><ul><li><strong>param</strong> : ids (Array(Pk))</li><li><strong>return</strong> : Array(Target)</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">ids </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">2</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">3</span><span style="color:#89DDFF;">]</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">reload</span></span>
<span class="line"><span style="color:#BABED8;">movie</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">actors</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">all </span><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">[</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#&lt;Actor:0x00007f8b3b1b3f00 @id=1, @name=&quot;Carrie-Anne Moss&quot;&gt;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">   #&lt;Actor:0x00007f8b3b1b3f00 @id=2, @name=&quot;Hugo Weaving&quot;&gt;,</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  #&lt;Actor:0x00007f8b3b1b3f00 @id=3, @name=&quot;Laurence Fishburne&quot;&gt;]</span></span>
<span class="line"></span></code></pre></div><p>:::</p>`,38),c=[r,p];function y(i,D,F,B,d,A){return e(),n("div",null,c)}const E=l(t,[["render",y]]);export{h as __pageData,E as default};
