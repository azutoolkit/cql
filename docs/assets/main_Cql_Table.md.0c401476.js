import{_ as s,o as n,c as e,x as l,a,S as o}from"./app.19d9338b.js";import"./chunks/theme.a19b6002.js";const b=JSON.parse('{"title":"Cql::Table","description":"","frontmatter":{"title":"Cql::Table"},"headers":[{"level":2,"title":"Constants","slug":"constants","link":"#constants","children":[{"level":3,"title":"Log","slug":"log","link":"#log","children":[]}]},{"level":2,"title":"Constructors","slug":"constructors","link":"#constructors","children":[{"level":3,"title":"def new(table_name : Symbol, schema : Schema, as_name : String | Nil = nil)","slug":"def-new-table-name-symbol-schema-schema-as-name-string-nil-nil","link":"#def-new-table-name-symbol-schema-schema-as-name-string-nil-nil","children":[]}]},{"level":2,"title":"Instance Methods","slug":"instance-methods","link":"#instance-methods","children":[{"level":3,"title":"def add_index(columns : Array(Symbol), unique : Bool = false, table : Table = self)","slug":"def-add-index-columns-array-symbol-unique-bool-false-table-table-self","link":"#def-add-index-columns-array-symbol-unique-bool-false-table-table-self","children":[]},{"level":3,"title":"def as_name","slug":"def-as-name","link":"#def-as-name","children":[]},{"level":3,"title":"def bigint(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-bigint-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-bigint-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def blob(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false)","slug":"def-blob-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false","link":"#def-blob-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false","children":[]},{"level":3,"title":"def boolean(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-boolean-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-boolean-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def column(name : Symbol, type : T.class, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false) forall T","slug":"def-column-name-symbol-type-t-class-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false-forall-t","link":"#def-column-name-symbol-type-t-class-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false-forall-t","children":[]},{"level":3,"title":"def columns","slug":"def-columns","link":"#def-columns","children":[]},{"level":3,"title":"def create!","slug":"def-create","link":"#def-create","children":[]},{"level":3,"title":"def create_sql","slug":"def-create-sql","link":"#def-create-sql","children":[]},{"level":3,"title":"def date(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-date-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-date-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def double(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-double-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-double-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def drop!","slug":"def-drop","link":"#def-drop","children":[]},{"level":3,"title":"def drop_sql","slug":"def-drop-sql","link":"#def-drop-sql","children":[]},{"level":3,"title":"def expression","slug":"def-expression","link":"#def-expression","children":[]},{"level":3,"title":"def float(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-float-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-float-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def integer(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-integer-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-integer-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def interval(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-interval-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-interval-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def primary(name : Symbol = :id, type : T.class = Int64, auto_increment : Bool = true, as as_name = nil, unique : Bool = true) forall T","slug":"def-primary-name-symbol-id-type-t-class-int64-auto-increment-bool-true-as-as-name-nil-unique-bool-true-forall-t","link":"#def-primary-name-symbol-id-type-t-class-int64-auto-increment-bool-true-as-as-name-nil-unique-bool-true-forall-t","children":[]},{"level":3,"title":"def table_name","slug":"def-table-name","link":"#def-table-name","children":[]},{"level":3,"title":"def table_name=(table_name : Symbol)","slug":"def-table-name-table-name-symbol","link":"#def-table-name-table-name-symbol","children":[]},{"level":3,"title":"def text(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false)","slug":"def-text-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false","link":"#def-text-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false","children":[]},{"level":3,"title":"def timestamp(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)","slug":"def-timestamp-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","link":"#def-timestamp-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false","children":[]},{"level":3,"title":"def timestamps","slug":"def-timestamps","link":"#def-timestamps","children":[]},{"level":3,"title":"def truncate!","slug":"def-truncate","link":"#def-truncate","children":[]},{"level":3,"title":"def truncate_sql","slug":"def-truncate-sql","link":"#def-truncate-sql","children":[]}]},{"level":2,"title":"Macros","slug":"macros","link":"#macros","children":[{"level":3,"title":"macro method_missing(call)","slug":"macro-method-missing-call","link":"#macro-method-missing-call","children":[]}]}],"relativePath":"main/Cql/Table.md","lastUpdated":1723931959000}'),t={name:"main/Cql/Table.md"},i=l("div",null,[l("h1",{id:"class-cql-table",tabindex:"-1"},[a("class Cql::Table "),l("a",{class:"header-anchor",href:"#class-cql-table","aria-hidden":"true"},"#")]),l("p",null,[l("code",null,"Reference"),a(" < "),l("code",null,"Object")]),l("p",null,"Represents a table in the database. This class is responsible for handling table creation, modification, and deletion."),l("h2",{id:"usage",tabindex:"-1"},[a("Usage "),l("a",{class:"header-anchor",href:"#usage","aria-hidden":"true"},"#")]),l("div",{class:"language-crystal"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"crystal"),l("pre",{"v-pre":"",class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"Table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"new"),l("span",{style:{color:"#89DDFF"}},"(:users,"),l("span",{style:{color:"#BABED8"}}," schema"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"=>"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#676E95","font-style":"italic"}},"#<Table:0x00007f8e7a4e1e80>")]),a(`
`),l("span",{class:"line"})])])]),l("div",{class:"language-crystal"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"crystal"),l("pre",{"v-pre":"",class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"column"),l("span",{style:{color:"#89DDFF"}},"(:id,"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"Int64"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#89DDFF"}},"primary:"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FF9CAC"}},"true"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"column"),l("span",{style:{color:"#89DDFF"}},"(:name,"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"String"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#BABED8"}},"create_sql")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"=>"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#89DDFF"}},'"'),l("span",{style:{color:"#C3E88D"}},"CREATE TABLE users (id BIGINT PRIMARY KEY, name TEXT);"),l("span",{style:{color:"#89DDFF"}},'"')]),a(`
`),l("span",{class:"line"})])])]),l("div",{class:"language-crystal"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"crystal"),l("pre",{"v-pre":"",class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"Table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"new"),l("span",{style:{color:"#89DDFF"}},"(:users,"),l("span",{style:{color:"#BABED8"}}," schema"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#BABED8"}},"drop!")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"=>"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#89DDFF"}},"nil")]),a(`
`),l("span",{class:"line"})])])]),l("div",{class:"language-crystal"},[l("button",{title:"Copy Code",class:"copy"}),l("span",{class:"lang"},"crystal"),l("pre",{"v-pre":"",class:"shiki material-theme-palenight",tabindex:"0"},[l("code",null,[l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"Table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"new"),l("span",{style:{color:"#89DDFF"}},"(:users,"),l("span",{style:{color:"#BABED8"}}," schema"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#BABED8"}},"truncate!")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"=>"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#89DDFF"}},"nil")]),a(`
`),l("span",{class:"line"}),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table "),l("span",{style:{color:"#89DDFF"}},"="),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"Table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"new"),l("span",{style:{color:"#89DDFF"}},"(:users,"),l("span",{style:{color:"#BABED8"}}," schema"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"column"),l("span",{style:{color:"#89DDFF"}},"(:id,"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"Int64"),l("span",{style:{color:"#89DDFF"}},","),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#89DDFF"}},"primary:"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FF9CAC"}},"true"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#82AAFF"}},"column"),l("span",{style:{color:"#89DDFF"}},"(:name,"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#FFCB6B"}},"String"),l("span",{style:{color:"#89DDFF"}},")")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#BABED8"}},"table"),l("span",{style:{color:"#89DDFF"}},"."),l("span",{style:{color:"#BABED8"}},"create!")]),a(`
`),l("span",{class:"line"},[l("span",{style:{color:"#89DDFF"}},"=>"),l("span",{style:{color:"#BABED8"}}," "),l("span",{style:{color:"#89DDFF"}},"nil")]),a(`
`),l("span",{class:"line"})])])]),l("details",{class:"details custom-block"},[l("summary",null,"Table of Contents"),l("nav",{class:"table-of-contents"},[l("ul",null,[l("li",null,[l("a",{href:"#constants"},"Constants"),l("ul",null,[l("li",null,[l("a",{href:"#log"},"Log")])])]),l("li",null,[l("a",{href:"#constructors"},"Constructors"),l("ul",null,[l("li",null,[l("a",{href:"#def-new-table-name-symbol-schema-schema-as-name-string-nil-nil"},"def new(table_name : Symbol, schema : Schema, as_name : String | Nil = nil)")])])]),l("li",null,[l("a",{href:"#instance-methods"},"Instance Methods"),l("ul",null,[l("li",null,[l("a",{href:"#def-add-index-columns-array-symbol-unique-bool-false-table-table-self"},"def add_index(columns : Array(Symbol), unique : Bool = false, table : Table = self)")]),l("li",null,[l("a",{href:"#def-as-name"},"def as_name")]),l("li",null,[l("a",{href:"#def-bigint-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def bigint(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-blob-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false"},"def blob(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-boolean-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def boolean(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-column-name-symbol-type-t-class-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false-forall-t"},"def column(name : Symbol, type : T.class, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false) forall T")]),l("li",null,[l("a",{href:"#def-columns"},"def columns")]),l("li",null,[l("a",{href:"#def-create"},"def create!")]),l("li",null,[l("a",{href:"#def-create-sql"},"def create_sql")]),l("li",null,[l("a",{href:"#def-date-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def date(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-double-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def double(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-drop"},"def drop!")]),l("li",null,[l("a",{href:"#def-drop-sql"},"def drop_sql")]),l("li",null,[l("a",{href:"#def-expression"},"def expression")]),l("li",null,[l("a",{href:"#def-float-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def float(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-integer-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def integer(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-interval-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def interval(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-primary-name-symbol-id-type-t-class-int64-auto-increment-bool-true-as-as-name-nil-unique-bool-true-forall-t"},"def primary(name : Symbol = :id, type : T.class = Int64, auto_increment : Bool = true, as as_name = nil, unique : Bool = true) forall T")]),l("li",null,[l("a",{href:"#def-table-name"},"def table_name")]),l("li",null,[l("a",{href:"#def-table-name-table-name-symbol"},"def table_name=(table_name : Symbol)")]),l("li",null,[l("a",{href:"#def-text-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false"},"def text(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-timestamp-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false"},"def timestamp(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)")]),l("li",null,[l("a",{href:"#def-timestamps"},"def timestamps")]),l("li",null,[l("a",{href:"#def-truncate"},"def truncate!")]),l("li",null,[l("a",{href:"#def-truncate-sql"},"def truncate_sql")])])]),l("li",null,[l("a",{href:"#macros"},"Macros"),l("ul",null,[l("li",null,[l("a",{href:"#macro-method-missing-call"},"macro method_missing(call)")])])])])])])],-1),r=o(`<h2 id="constants" tabindex="-1">Constants <a class="header-anchor" href="#constants" aria-hidden="true">#</a></h2><h3 id="log" tabindex="-1">Log <a class="header-anchor" href="#log" aria-hidden="true">#</a></h3><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">::</span><span style="color:#FFCB6B;">Log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">for</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;">self</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="constructors" tabindex="-1">Constructors <a class="header-anchor" href="#constructors" aria-hidden="true">#</a></h2><h3 id="def-new-table-name-symbol-schema-schema-as-name-string-nil-nil" tabindex="-1">def new<code>(table_name : Symbol, schema : Schema, as_name : String | Nil = nil)</code> <a class="header-anchor" href="#def-new-table-name-symbol-schema-schema-as-name-string-nil-nil" aria-hidden="true">#</a></h3><h2 id="instance-methods" tabindex="-1">Instance Methods <a class="header-anchor" href="#instance-methods" aria-hidden="true">#</a></h2><h3 id="def-add-index-columns-array-symbol-unique-bool-false-table-table-self" tabindex="-1">def add_index<code>(columns : Array(Symbol), unique : Bool = false, table : Table = self)</code> <a class="header-anchor" href="#def-add-index-columns-array-symbol-unique-bool-false-table-table-self" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> columns [Array(Symbol)] the columns to be indexed</li><li><strong>@param</strong> unique [Bool] whether the index should be unique (default: false)</li><li><strong>@param</strong> table [Table] the table to add the index to (default: self)</li><li><strong>@return</strong> [Index] the new index</li></ul><p><strong>Example</strong> Adding a new index</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">add_index</span><span style="color:#89DDFF;">([:email],</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">add_index</span><span style="color:#89DDFF;">([:email,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:username],</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#82AAFF;">add_index</span><span style="color:#89DDFF;">([:email,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">:username],</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">table:</span><span style="color:#BABED8;"> users</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="def-as-name" tabindex="-1">def as_name <a class="header-anchor" href="#def-as-name" aria-hidden="true">#</a></h3><h3 id="def-bigint-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def bigint<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-bigint-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">bigint </span><span style="color:#89DDFF;">:age</span></span>
<span class="line"><span style="color:#BABED8;">bigint </span><span style="color:#89DDFF;">:age,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user_age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-blob-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false" tabindex="-1">def blob<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false)</code> <a class="header-anchor" href="#def-blob-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">blob </span><span style="color:#89DDFF;">:data</span></span>
<span class="line"><span style="color:#BABED8;">blob </span><span style="color:#89DDFF;">:data,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">binary_data</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">nil,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-boolean-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def boolean<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-boolean-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">boolean </span><span style="color:#89DDFF;">:active</span></span>
<span class="line"><span style="color:#BABED8;">boolean </span><span style="color:#89DDFF;">:active,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">is_active</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-column-name-symbol-type-t-class-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false-forall-t" tabindex="-1">def column<code>(name : Symbol, type : T.class, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false) forall T</code> <a class="header-anchor" href="#def-column-name-symbol-type-t-class-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false-forall-t" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> type [T.class] the data type of the column</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> size [Int32, nil] the size of the column (default: nil)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">column </span><span style="color:#89DDFF;">:email,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">String</span></span>
<span class="line"></span></code></pre></div><h3 id="def-columns" tabindex="-1">def columns <a class="header-anchor" href="#def-columns" aria-hidden="true">#</a></h3><h3 id="def-create" tabindex="-1">def create! <a class="header-anchor" href="#def-create" aria-hidden="true">#</a></h3><p>Creates the table in the database.</p><ul><li><strong>@return</strong> [Nil]</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(:id,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">primary:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(:name,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">create!</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">nil</span></span>
<span class="line"></span></code></pre></div><h3 id="def-create-sql" tabindex="-1">def create_sql <a class="header-anchor" href="#def-create-sql" aria-hidden="true">#</a></h3><p>Generates the SQL to create the table.</p><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(:id,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">primary:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">column</span><span style="color:#89DDFF;">(:name,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">create_sql</span></span>
<span class="line"></span></code></pre></div><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">CREATE TABLE users (id BIGINT PRIMARY KEY, name TEXT);</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="def-date-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def date<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-date-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">date </span><span style="color:#89DDFF;">:birthday</span></span>
<span class="line"><span style="color:#BABED8;">date </span><span style="color:#89DDFF;">:birthday,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">date_of_birth</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Time</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">local</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-double-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def double<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-double-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">double </span><span style="color:#89DDFF;">:age</span></span>
<span class="line"><span style="color:#BABED8;">double </span><span style="color:#89DDFF;">:age,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user_age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">18.0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-drop" tabindex="-1">def drop! <a class="header-anchor" href="#def-drop" aria-hidden="true">#</a></h3><p>Drops the table from the database.</p><ul><li><strong>@return</strong> [Nil]</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">drop!</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">nil</span></span>
<span class="line"></span></code></pre></div><h3 id="def-drop-sql" tabindex="-1">def drop_sql <a class="header-anchor" href="#def-drop-sql" aria-hidden="true">#</a></h3><p>Generates the SQL to drop the table.</p><ul><li><strong>@return</strong> [String] the SQL query</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">drop_sql</span></span>
<span class="line"></span></code></pre></div><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">DROP TABLE users;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="def-expression" tabindex="-1">def expression <a class="header-anchor" href="#def-expression" aria-hidden="true">#</a></h3><p>Gets table expression for Sql query generation</p><ul><li><strong>@return</strong> [Expression::Table] the table expression</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">expression</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">#&lt;Expression::Table:0x00007f8e7a4e1e80&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="def-float-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def float<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-float-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">float </span><span style="color:#89DDFF;">:age</span></span>
<span class="line"><span style="color:#BABED8;">float </span><span style="color:#89DDFF;">:age,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user_age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">18.0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-integer-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def integer<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-integer-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">integer </span><span style="color:#89DDFF;">:age</span></span>
<span class="line"><span style="color:#BABED8;">integer </span><span style="color:#89DDFF;">:age,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">user_age</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">18</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-interval-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def interval<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-interval-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">interval </span><span style="color:#89DDFF;">:duration</span></span>
<span class="line"><span style="color:#BABED8;">interval </span><span style="color:#89DDFF;">:duration,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">time_span</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Time</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">local</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-primary-name-symbol-id-type-t-class-int64-auto-increment-bool-true-as-as-name-nil-unique-bool-true-forall-t" tabindex="-1">def primary<code>(name : Symbol = :id, type : T.class = Int64, auto_increment : Bool = true, as as_name = nil, unique : Bool = true) forall T</code> <a class="header-anchor" href="#def-primary-name-symbol-id-type-t-class-int64-auto-increment-bool-true-as-as-name-nil-unique-bool-true-forall-t" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> type [Any] the data type of the column</li><li><strong>@param</strong> auto_increment [Bool] whether the column should auto increment (default: true)</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: true)</li></ul><p><strong>Example</strong> Adding a new primary key column</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">primary </span><span style="color:#89DDFF;">:id,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span></span>
<span class="line"><span style="color:#BABED8;">primary </span><span style="color:#89DDFF;">:id,</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Int64</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">auto_increment:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"></span></code></pre></div><h3 id="def-table-name" tabindex="-1">def table_name <a class="header-anchor" href="#def-table-name" aria-hidden="true">#</a></h3><h3 id="def-table-name-table-name-symbol" tabindex="-1">def table_name=<code>(table_name : Symbol)</code> <a class="header-anchor" href="#def-table-name-table-name-symbol" aria-hidden="true">#</a></h3><h3 id="def-text-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false" tabindex="-1">def text<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, size : Int32 | Nil = nil, index : Bool = false)</code> <a class="header-anchor" href="#def-text-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-size-int32-nil-nil-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">decimal </span><span style="color:#89DDFF;">:price</span></span>
<span class="line"><span style="color:#BABED8;">decimal </span><span style="color:#89DDFF;">:price,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">product_price</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">0.0</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-timestamp-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" tabindex="-1">def timestamp<code>(name : Symbol, as as_name : String | Nil = nil, null : Bool = false, default : DB::Any = nil, unique : Bool = false, index : Bool = false)</code> <a class="header-anchor" href="#def-timestamp-name-symbol-as-as-name-string-nil-nil-null-bool-false-default-db-any-nil-unique-bool-false-index-bool-false" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><ul><li><strong>@param</strong> name [Symbol] the name of the column to be added</li><li><strong>@param</strong> as_name [String, nil] an optional alias for the column</li><li><strong>@param</strong> null [Bool] whether the column allows null values (default: false)</li><li><strong>@param</strong> default [DB::Any, nil] the default value for the column (default: nil)</li><li><strong>@param</strong> unique [Bool] whether the column should have a unique constraint (default: false)</li><li><strong>@param</strong> index [Bool] whether the column should be indexed (default: false)</li><li><strong>@return</strong> [Column] the new column</li></ul><p><strong>Example</strong> Adding a new column with default options</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">timestamp </span><span style="color:#89DDFF;">:created_at</span></span>
<span class="line"><span style="color:#BABED8;">timestamp </span><span style="color:#89DDFF;">:created_at,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">as:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">created_at</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">null:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">default:</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Time</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">local</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">unique:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">index:</span><span style="color:#BABED8;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre></div><h3 id="def-timestamps" tabindex="-1">def timestamps <a class="header-anchor" href="#def-timestamps" aria-hidden="true">#</a></h3><p>Adds a new column to the table.</p><p><strong>Example</strong> Adding timestamps to the table</p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">timestamps</span></span>
<span class="line"></span></code></pre></div><h3 id="def-truncate" tabindex="-1">def truncate! <a class="header-anchor" href="#def-truncate" aria-hidden="true">#</a></h3><p>Truncates the table in the database.</p><ul><li><strong>@return</strong> [Nil]</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">truncate!</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">nil</span></span>
<span class="line"></span></code></pre></div><h3 id="def-truncate-sql" tabindex="-1">def truncate_sql <a class="header-anchor" href="#def-truncate-sql" aria-hidden="true">#</a></h3><p>Generates the SQL to truncate the table.</p><ul><li><strong>@return</strong> [String] the SQL query</li></ul><p><strong>Example</strong></p><div class="language-crystal"><button title="Copy Code" class="copy"></button><span class="lang">crystal</span><pre class="shiki material-theme-palenight" tabindex="0"><code><span class="line"><span style="color:#BABED8;">table </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#FFCB6B;">Table</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">new</span><span style="color:#89DDFF;">(:users,</span><span style="color:#BABED8;"> schema</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#BABED8;">table</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">truncate_sql</span></span>
<span class="line"><span style="color:#89DDFF;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">TRUNCATE TABLE users;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="macros" tabindex="-1">Macros <a class="header-anchor" href="#macros" aria-hidden="true">#</a></h2><h3 id="macro-method-missing-call" tabindex="-1">macro method_missing<code>(call)</code> <a class="header-anchor" href="#macro-method-missing-call" aria-hidden="true">#</a></h3><p>:::</p>`,118),p=[i,r];function c(d,u,y,m,f,D){return n(),e("div",null,p)}const h=s(t,[["render",c]]);export{b as __pageData,h as default};
